<header>
  <div class="navbar">
    <nav>
      <a href="#!/landing"><img src="imgs/wwp3.png" alt="logo"></a>
      <a href="#!/landing">HOME</a>
      <a href="#!/userReg">REGISTRATION</a>
      <a href="#!/property">BUY PROPERTIES</a>
      <a href="#!/usersList">CUSTOMER LIST</a>
    </nav>
  </div>
</header>
<main ng-controller="UserController as ctrl">
  <h2>Customer registration</h2>
  <div class="formDiv">
    <form name="userReg" class="formClass" autocomplete="off">
      <md-input-container class="md-block" flex-gt-sm>
        <label>Identification number:</label>
        <input name="id" ng-model="ctrl.id" required ng-minlength="1" ng-pattern="/^[0-9]{1,}$/">
        <div ng-messages="userReg.id.$error">
          <div ng-messages-include="/components/include/messages.html"></div>
        </div>
      </md-input-container>
      <md-input-container class="md-block" flex-gt-sm>
        <label>Name:</label>
        <input name="name" ng-model="ctrl.name" required ng-pattern="/^[a-zA-ZáéíóúÁÉÍÓÚ]+$/">
        <div ng-messages="userReg.name.$error">
          <div ng-messages-include="/components/include/messages.html"></div>
        </div>
      </md-input-container>
      <md-input-container class="md-block" flex-gt-sm>
        <label>Alias:</label>
        <input name="alias" ng-model="ctrl.alias" required ng-pattern="/^[a-zA-ZáéíóúÁÉÍÓÚ]+$/">
        <div ng-messages="userReg.alias.$error">
          <div ng-messages-include="/components/include/messages.html"></div>
        </div>
      </md-input-container>
      <md-input-container class="md-block" flex-gt-sm>
        <h5>Bio:</h5>
				<md-button type="button" value="Upload" class="md-raised md-primary" ng-click="ctrl.showPicker()" ng-model="ctrl.bio">Upload file</md-button>
			</md-input-container>
      <md-input-container class="md-block" flex-gt-sm>
        <h5>Photo:</h5>
        <md-button type="file" value="Upload" id="photo" class="md-raised md-primary" ng-model="ctrl.photo">Upload file</md-button>
      </md-input-container>
      <md-button ng-click="ctrl.save()" class="md-raised md-primary" ng-disabled="userReg.$invalid">Register</md-button>
      <p>* Data Required</p>
      <p>Dosen't register repeated data</p>
    </form>
  </div>
  <div class="tableDiv">
    <div class="row" id="table">
      <table class="col-sm-6 col-md-offset-2 table table-striped">
        <thead>
          <tr>
            <th>Id number</th>
            <th>Names</th>
            <th>Alias</th>
            <th>Money</th>
            <th>Bio</th>
            <th>Photo</th>
          </tr>
        </thead>
        <tbody>
          <tr ng-repeat="user in ctrl.users">
            <td>{{user.id}}</td>
            <td>{{user.name}}</td>
            <td>{{user.alias}}</td>
            <td>{{user.money}}</td>
            <td><a class="button" href="{{user.bio}}" target="_blank">BIO</a></td>
            <td><a class="button" href="{{user.photo}}" target="_blank" alt="Photo">PHOTO</a></td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</main>
<div class="clearFix"></div>
<script type="text/javascript" src="https://static.filestackapi.com/v3/filestack.js"></script>
      <!-- <script>
         const link = document.getElementById('url');
         const client = filestack.init('A3kT6wcvoQCiDhivHSkKpz');
              client.pick({
             accept: ['image/*', '.pdf', 'video/mp4','docx','.zip','.txt']
            }).then(function(result) {
              const fileUrl = result.filesUploaded[0].url;
              link.href=fileUrl;
              link.innerHTML=fileUrl;
              console.log(fileUrl)
              localStorage.setItem('lsUrl', JSON.stringify(fileUrl));
            });
      </script> -->
