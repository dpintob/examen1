<header>
  <div class="navbar">
    <nav>
      <a href="#!/landing"><img src="public/imgs/wwp3.png" alt="logo"></a>
      <a href="#!/landing">HOME</a>
      <a href="#!/userReg">REGISTRATION</a>
      <a href="#!/property">BUY PROPERTIES</a>
      <a href="#!/usersList">CUSTOMER LIST</a>
    </nav>
  </div>
</header>
<main ng-controller="PropertyController as ctrl">
  <h2>Property purchase</h2>
  <div class="buyFormDiv">
    <form class="buyForm" name="buyForm">
      <md-input-container>
        <label>Buyer name:</label>
        <md-select name="user" id="UserList" class="selectStyle" ng-model="ctrl.user" required>
            <md-option ng-repeat="user in ctrl.users" value="{{user.name}}">{{user.name}}</option>
        </md-select>
      </md-input-container>
      <md-input-container>
        <label>Property :</label>
        <md-select name="property" id="PropertyList" class="selectStyle" ng-model="ctrl.property" required>
            <md-option ng-repeat="property in ctrl.properties" value="{{property.name}}">{{property.name}}</option>
        </md-select>
      </md-input-container>
      <md-button  class="md-raised md-primary" ng-disabled="buyForm.$invalid" ng-click="ctrl.save()">Buy</md-button>
    </form>
  </div>
  <h2>Property information</h2>
  <div class="card">
    <md-card ng-repeat="property in ctrl.properties" md-theme="{{'default'}}" md-theme-watch>
      <md-card-title>
        <md-card-title-text>
          <span class="md-headline">{{property.name}}</span>
          <span class="md-subhead"><b>Owned by:</b> {{property.ownedby}} </span>
          <span class="md-subhead">{{property.price | currency}}</span>
        </md-card-title-text>
        <md-card-title-media>
          <div class="md-media-md card-media"><img src="../imgs/wwp3.png" alt=""></div>
        </md-card-title-media>
      </md-card-title>
      <md-card-actions layout="row" layout-align="end center">
        <md-button data-toggle="modal" data-target="#myModal{{$index}}">More info</md-button>
      </md-card-actions>

      <div id="myModal{{$index}}" class="modal fade" role="dialog">
        <div class="modal-dialog">

          <!-- Modal content-->
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal">&times;</button>
              <h4 class="modal-title">{{property.name}}</h4>
            </div>
            <div class="modal-body">
              <b>Price:</b><p>{{property.price | currency}}</p>
              <b>Id:</b><p>{{property.id}}</p>
              <b>Position:</b>
              <p>{{property.posistion}}</p>
              <b>Rent:</b>
              <p>{{property.rent}}</p>
              <b>House cost:</b>
              <p>{{property.housecost}}</p>
              <b>Group:</b>
              <p>{{property.group}}</p>
              <b>Owned by:</b>
              <p>{{property.ownedby}}</p>
              <b>Buildings:</b>
              <p>{{property.buildings}}</p>
              <b>Mortgaged:</b>
              <p>{{property.mortgaged}}</p>
              <b>Probability:</b>
              <p>{{property.probability}}</p>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
          </div>

        </div>
      </div>
    </md-card>
  </div>
</main>
